<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>GrokParseNoteLM - 문서 기반 질의응답</title>
    <link rel="stylesheet" href="{{ url_for('static', filename='css/style.css') }}">
    <link href="https://fonts.googleapis.com/icon?family=Material+Icons" rel="stylesheet">
    <link href="https://fonts.googleapis.com/css2?family=Noto+Sans+KR:wght@400;500;700&display=swap" rel="stylesheet">
</head>
<body>
    <div class="app-container">
        <!-- 헤더 -->
        <header class="app-header">
            <div class="logo">
                <h1>OWL 2 Web Ontology Language Overview</h1>
            </div>
            <div class="header-actions">
                <button id="present-btn" class="icon-btn" title="데이터 포그리즈">
                    <span class="material-icons">present_to_all</span>
                </button>
                <button id="share-btn" class="icon-btn" title="공유하기">
                    <span class="material-icons">share</span>
                </button>
                <button id="more-btn" class="icon-btn" title="추가 옵션">
                    <span class="material-icons">more_vert</span>
                </button>
                <button id="settings-btn" class="icon-btn" title="설정">
                    <span class="material-icons">settings</span>
                </button>
                <div class="user-profile">
                    <div class="avatar">K</div>
                </div>
            </div>
        </header>

        <!-- 메인 컨텐츠 -->
        <main class="app-content">
            <!-- 좌측 사이드바 (문서 목록) -->
            <aside class="sidebar left-sidebar">
                <div class="sidebar-header">
                    <h2>출처</h2>
                    <div class="sidebar-actions">
                        <button id="add-doc-btn" class="icon-btn add-btn" title="문서 추가">
                            <span class="material-icons">add</span>
                        </button>
                        <button id="search-btn" class="icon-btn search-btn" title="검색">
                            <span class="material-icons">search</span>
                        </button>
                    </div>
                </div>
                <div class="sidebar-subtitle">
                    <span>모든 소스 선택</span>
                    <input type="checkbox" id="select-all-sources" class="source-checkbox" checked>
                </div>
                <div id="document-list" class="document-list">
                    {% if documents %}
                        {% for doc in documents %}
                            <div class="document-item {% if doc.selected %}selected{% endif %}" data-id="{{ doc.doc_id }}">
                                <div class="doc-checkbox-container">
                                    <input type="checkbox" class="doc-checkbox" data-id="{{ doc.doc_id }}" checked>
                                </div>
                                <div class="doc-icon">
                                    <span class="material-icons">
                                        {% if doc.doc_type == 'pdf' %}picture_as_pdf{% else %}description{% endif %}
                                    </span>
                                </div>
                                <div class="doc-info">
                                    <div class="doc-title">{{ doc.filename }}</div>
                                    <div class="doc-meta">
                                        <span class="doc-type">{{ doc.doc_type | upper }}</span>
                                        <span class="doc-status {{ 'processed' if doc.processed else 'unprocessed' }}">
                                            {{ '처리됨' if doc.processed else '미처리' }}
                                        </span>
                                    </div>
                                </div>
                                <div class="doc-actions">
                                    <button class="icon-btn delete-btn" data-id="{{ doc.doc_id }}" title="삭제">
                                        <span class="material-icons">delete</span>
                                    </button>
                                </div>
                            </div>
                        {% endfor %}
                    {% else %}
                        <div class="document-item sample">
                            <div class="doc-checkbox-container">
                                <input type="checkbox" class="doc-checkbox" checked>
                            </div>
                            <div class="doc-icon">
                                <span class="material-icons">picture_as_pdf</span>
                            </div>
                            <div class="doc-info">
                                <div class="doc-title">BFO2-Reference.pdf</div>
                            </div>
                        </div>
                        <div class="document-item sample">
                            <div class="doc-checkbox-container">
                                <input type="checkbox" class="doc-checkbox" checked>
                            </div>
                            <div class="doc-icon">
                                <span class="material-icons">picture_as_pdf</span>
                            </div>
                            <div class="doc-info">
                                <div class="doc-title">REC-owl2-overview-20121211.pdf</div>
                            </div>
                        </div>
                        <div class="document-item sample">
                            <div class="doc-checkbox-container">
                                <input type="checkbox" class="doc-checkbox" checked>
                            </div>
                            <div class="doc-icon">
                                <span class="material-icons">picture_as_pdf</span>
                            </div>
                            <div class="doc-info">
                                <div class="doc-title">REC-owl2-primer-20121211.pdf</div>
                            </div>
                        </div>
                        <div class="document-item sample">
                            <div class="doc-checkbox-container">
                                <input type="checkbox" class="doc-checkbox" checked>
                            </div>
                            <div class="doc-icon">
                                <span class="material-icons">picture_as_pdf</span>
                            </div>
                            <div class="doc-info">
                                <div class="doc-title">ontology101.pdf</div>
                            </div>
                        </div>
                    {% endif %}

                </div>
            </aside>

            <!-- 중앙 컨텐츠 영역 (문서 내용) -->
            <section class="main-content">
                <div class="document-view-header">
                    <div class="document-owl-container">
                        <img class="document-owl" src="https://cdn-icons-png.flaticon.com/512/6855/6855217.png" alt="문서 아이콘">
                    </div>
                    <h1 class="document-title">OWL 2 Web Ontology Language Overview</h1>
                    <div class="document-actions">
                        <button class="doc-action-btn" title="문서 복사">
                            <span class="material-icons">content_copy</span>
                        </button>
                    </div>
                </div>
                <div class="document-source">소스 보기</div>
                
                <div class="document-content">
                    <p class="content-text">우리가 살고 있는 실세계에서 개념들, 개념 관계들, 그리고 관계의 논리적 특성들을 형식적으로 표현하기 위해 RDF(Resource Description Format)/OWL(Web Ontology Language) 2.0 등을 사용한다.</p>
                    
                    <p class="content-text">RDF 기반의 웹 온톨로지 언어 OWL(Web Ontology Language)은 지식 표현 언어이다. 웹에 존재하는 콘텐츠를 명시적으로 표현하기 위한 메커니즘을 제공한다. 이에 메타데이터 문서의 의미나 콘텐츠 그 자체는 물론 그 콘텐츠가 표현하는 세계의 사물들에 관한 지식까지 표현할 수 있다.</p>
                    
                    <p class="content-text">본 문서는 OWL 2에 대한 개략적인 내용을 기술하는 문서이다. 그리고 현존 온톨로지를 통합할 수 있는 방법을 기술하고 있다.</p>
                </div>

                <div class="content-actions">
                    <div class="action-buttons content-action-buttons">
                        <button class="content-action-btn" title="파일 첨부">
                            <span class="material-icons">attach_file</span>
                        </button>
                        <button class="content-action-btn" title="하이라이트">
                            <span class="material-icons">highlight</span>
                        </button>
                        <button class="content-action-btn" title="새로 추가">
                            <span class="material-icons">add_circle_outline</span>
                        </button>
                    </div>
                </div>

            </section>

            <!-- 우측 사이드바 (AI 스마트 기능) -->
            <aside class="sidebar right-sidebar">
                <div class="right-sidebar-header">
                    <h2>AI 응답 기능</h2>
                    <button class="help-btn" title="도움말">
                        <span class="material-icons">help_outline</span>
                    </button>
                </div>
                
                <div class="ai-suggestion-container">
                    <div class="ai-suggestion">
                        <div class="ai-suggestion-icon">
                            <span class="material-icons">lightbulb</span>
                        </div>
                        <div class="ai-suggestion-text">이 문서 전체의 핵심 개념을 설명해주세요.</div>
                    </div>
                </div>
                
                <div class="response-history-container">
                    <div class="response-history-header">
                        <h3>노트</h3>
                        <button class="add-note-btn" title="새 노트 추가">
                            <span class="material-icons">add</span>
                        </button>
                    </div>
                    
                    <div class="response-item">
                        <h4 class="response-title">문서에서 개념 설명</h4>
                        <div class="response-timestamp">10:30 AM에 저장됨</div>
                    </div>
                    
                    <div class="response-item">
                        <h4 class="response-title">문서에서 기술적 개념 정리</h4>
                        <div class="response-timestamp">어제 저장됨</div>
                    </div>
                    
                    <div class="response-item">
                        <h4 class="response-title">문서와 개념 요약 정리</h4>
                        <div class="response-timestamp">2일 전 저장됨</div>
                    </div>
                </div>
            </aside>
        </main>

        <!-- 하단 질문 입력 필드 및 메뉴 -->
        <div class="bottom-container">
            <div class="bottom-actions">
                <div class="action-buttons">
                    <button class="action-btn" title="새로 작성">
                        <span class="material-icons">create</span>
                    </button>
                    <button class="action-btn" title="파일 첨부">
                        <span class="material-icons">attach_file</span>
                    </button>
                    <button class="action-btn" title="메뉴 추가">
                        <span class="material-icons">add</span>
                    </button>
                </div>
                <div class="chat-input-container">
                    <input type="text" id="question-input" placeholder="질문해 보세요...">
                    <button class="send-btn">
                        <span class="material-icons">send</span>
                    </button>
                </div>
            </div>
        </div>

        <!-- 업로드 진행 상태 모달 -->
        <div id="upload-progress-modal" class="modal hidden">
            <div class="modal-content">
                <div class="progress-icon">
                    <span class="material-icons">cloud_upload</span>
                </div>
                <h3>문서 업로드 중</h3>
                <div class="progress-bar">
                    <div class="progress-fill"></div>
                </div>
                <p id="upload-status-text">0%</p>
            </div>
        </div>

        <!-- 파일 업로드 모달 -->
        <div id="upload-modal" class="modal hidden">
            <div class="modal-content">
                <div class="modal-header">
                    <h3>문서 업로드</h3>
                    <button class="close-modal-btn">
                        <span class="material-icons">close</span>
                    </button>
                </div>
                <div class="modal-body">
                    <div class="upload-area modal-dropzone" id="modal-dropzone">
                        <div class="upload-icon">
                            <span class="material-icons">cloud_upload</span>
                        </div>
                        <p>문서를 여기에 끌어다 놓거나</p>
                        <form id="modal-upload-form" enctype="multipart/form-data">
                            <input type="file" id="modal-file-input" name="file" accept=".pdf,.txt,.md" hidden>
                            <button type="button" id="modal-browse-btn" class="primary-btn">파일 선택</button>
                        </form>
                    </div>
                    <div class="upload-options">
                        <div class="option-group">
                            <h4>처리 옵션</h4>
                            <div class="checkbox-option">
                                <input type="checkbox" id="auto-process" checked>
                                <label for="auto-process">업로드 후 자동 처리</label>
                            </div>
                        </div>
                    </div>
                </div>
                <div class="modal-footer">
                    <button class="cancel-btn">취소</button>
                    <button class="confirm-btn" id="confirm-upload-btn">업로드</button>
                </div>
            </div>
        </div>
        
        <div class="footer-status">NotebookLM과 유사하게 구현된 웹 UI가 제공됩니다.</div>
    </div>

    <script src="{{ url_for('static', filename='js/main.js') }}"></script>
</body>
</html>
